<div class="panel" [ngClass]="{
     'panel-success': isPrestationEligible,
     'panel-warning': isPrestationRefusee,
     'panel-info': isPrestationDejaPercue
    }">
  <div class="panel-heading">
    <div class="panel-row">
      <i class="fa panel-row-icon" [ngClass]="{
          'fa-check-circle': isPrestationEligible,
          'fa-times-circle': isPrestationRefusee,
          'fa-info-circle': isPrestationDejaPercue
        }"></i>

      <div class="panel-row-text">
        <h4>
          {{ 'home.result.prestation.' + resultsByPrestation.prestation + '.title'  | translate }}
          <a target="_blank"
             href="{{'home.result.prestation.' + resultsByPrestation.prestation + '.plusInformation:ink'  | translate}}">
            {{ 'home.result.plusInformation'  | translate }}
          </a>
        </h4>
      </div>
    </div>
  </div>
  <div class="panel-body" *ngIf=" !isPrestationDejaPercue">
    <ul *ngIf="isPrestationRefusee || (isPrestationEligible && isPrestationIndividuel)">
      <li *ngFor="let result of resultsByPrestation.results">
        <div *ngIf="isPrestationIndividuel"
             [attr.data-cy-prestations-eligibles]="result.eligible ? resultsByPrestation.prestation + '_' + result.membre.id : null"
             [attr.data-cy-prestations-refusees]="!result.eligible && !result.dejaPercue ? resultsByPrestation.prestation + '_' + result.membre.id : null"
             [attr.data-cy-prestations-deja-percues]="result.dejaPercue ? resultsByPrestation.prestation + '_' + result.membre.id : null">
          <span *ngIf="!isPrestationDejaPercue" [ngClass]="{
          'text-success': result.eligible,
          'text-danger': !result.eligible && !result.dejaPercue
         }">{{ translateResult(result) }}</span>
          <span *ngIf="result.motifRefus">{{ result.motifRefus.key | translate:result.motifRefus.parameters }}</span>
          <a *ngIf="result.eligible"
             href="{{ 'home.result.prestation.' + resultsByPrestation.prestation + '.demandeLink'  | translate }}"
             target="_blank">
            {{ 'home.result.demandeMembre' | translate:toTranslateParams(result)}}
          </a>
        </div>

        <div *ngIf="!isPrestationIndividuel">
          <span *ngIf="result.motifRefus" class="text-danger">
            {{ result.motifRefus.key | translate:result.motifRefus.parameters }}
          </span>
        </div>
      </li>
    </ul>

    <span *ngIf="isPrestationEligible && !isPrestationIndividuel">
      {{ 'home.result.prestation.' + resultsByPrestation.prestation + '.eligible' | translate }}
      <a href="{{ 'home.result.prestation.' + resultsByPrestation.prestation + '.demandeLink'  | translate }}"
         target="_blank">
        {{'home.result.demande'  | translate }}
      </a>
    </span>

  </div>
</div>
